<mat-card>
  <form [formGroup]="signupForm" (ngSubmit)="signupFormSubmit()">
    <mat-form-field>
      <input type="text" matInput placeholder="Username" formControlName="username" required pattern="^[a-zA-Z0-9_.-]*$">
    </mat-form-field>

    <!-- <div class="ok" *ngIf="signupForm.controls.username.status === 'INVALID' && signupForm.controls.username.value != ''">
      caratteri Username invalidi
    </div> -->

    <!-- <div class="error" *ngIf="signupForm.controls.username.errors && signupForm.controls.username.errors.usernameTaken">
      Username already taken
    </div> -->

    <mat-form-field matTooltip="Lunghezza password da 8 a 16 caratteri">
      <input type="password" matInput placeholder="Password" formControlName="password" required minlength="8" maxlength="16">
    </mat-form-field>

    <ng2-password-strength-bar 
              [passwordToCheck]="signupForm.controls.password.value"
              [barLabel]="startBarLabel"
              [barColors]="strengthBarColors"
              [strengthLabels]="strengthBarLabels">
    </ng2-password-strength-bar>
    
    <mat-form-field>
      <input type="password" matInput placeholder="Confirm Password" formControlName="passwordConfirm" required validateEqual="password">
    </mat-form-field>

    <button type="submit" mat-raised-button color="primary" [disabled]='signupForm.invalid'>Registrati</button>

    <p *ngIf="errorMessage" class="error">
      {{ errorMessage }}
    </p>

  </form>
</mat-card>